{% extends "base.html" %}

{% block content %}
<h1>Blog Posts</h1>

<div id="posts-list">
    {% for post in posts %}
    <div class="post-item" style="margin-bottom: 20px; border-bottom: 1px solid #ccc;">
        <h2>{{ post.title }}</h2>
        <p>By {{ post.author }} Â· {{ post.created_at }}</p>
        <a href="/posts/{{ post.id }}">Read more</a>
    </div>
    {% endfor %}
</div>

<h2>New Post</h2>
<form hx-post="/posts" hx-target="#posts-list" hx-swap="afterbegin">
    <input type="text" name="title" placeholder="Title" required>
    <textarea name="content" placeholder="Content" required></textarea>
    <input type="text" name="author" placeholder="Author" required>
    <button type="submit">Publish</button>
</form>
{% endblock %}